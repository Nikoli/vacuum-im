include("${CMAKE_SOURCE_DIR}/config.cmake")

project(idn C)

file(GLOB SOURCES "*.c")

add_library(idn STATIC ${SOURCES})
set_target_properties(idn PROPERTIES ARCHIVE_OUTPUT_DIRECTORY "${CMAKE_BINARY_DIR}/src/libs"
	COMPILE_FLAGS "${CMAKE_SHARED_LIBRARY_C_FLAGS}"
	LINK_FLAGS "${CMAKE_SHARED_LIBRARY_C_FLAGS}")

if (INSTALL_SDK)
	file(GLOB ALL_HEADERS "*.h")
	install(FILES ${ALL_HEADERS}
		DESTINATION "${INSTALL_INCLUDES}/thirdparty/idn"
		COMPONENT sdk)
	if (WIN32)
		install(TARGETS idn
			ARCHIVE DESTINATION "${INSTALL_LIBS}"
			COMPONENT sdk)
	endif (WIN32)
endif (INSTALL_SDK)
